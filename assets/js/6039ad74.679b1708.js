"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4815],{8080:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=t(4848),o=t(8453);const r={title:"useEnterprise",description:"API reference for the useEnterprise hook",tags:["admin","hooks","users"]},i=void 0,a={id:"docs/core/admin/features/hooks/use-enterprise",title:"useEnterprise",description:"API reference for the useEnterprise hook",source:"@site/docs/docs/01-core/admin/05-features/hooks/use-enterprise.mdx",sourceDirName:"docs/01-core/admin/05-features/hooks",slug:"/docs/core/admin/features/hooks/use-enterprise",permalink:"/docs/core/admin/features/hooks/use-enterprise",draft:!1,unlisted:!1,editUrl:"https://github.com/strapi/strapi/tree/main/docs/docs/docs/01-core/admin/05-features/hooks/use-enterprise.mdx",tags:[{label:"admin",permalink:"/tags/admin"},{label:"hooks",permalink:"/tags/hooks"},{label:"users",permalink:"/tags/users"}],version:"current",frontMatter:{title:"useEnterprise",description:"API reference for the useEnterprise hook",tags:["admin","hooks","users"]},sidebar:"docs",previous:{title:"unstable_useDocument",permalink:"/docs/core/admin/features/hooks/use-document"},next:{title:"NPS",permalink:"/docs/core/admin/features/nps"}},d={},c=[{value:"Usage",id:"usage",level:2},{value:"<code>combine()</code>",id:"combine",level:3},{value:"<code>defaultValue</code>",id:"defaultvalue",level:3},{value:"<code>enabled</code>",id:"enabled",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["A hook that returns either community or enterprise-edition data-structures based on the global ",(0,s.jsx)(n.code,{children:"window.strapi.isEE"})," flag."]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"import { CE_DATA } from './data';\n\nfunction Component() {\n    const data = useEnterprise(CE_DATA, async () => (await import('./ee/data')).default);\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"It accepts an optional third argument to pass in options customizing the hook behavior:"}),"\n",(0,s.jsx)(n.h3,{id:"combine",children:(0,s.jsx)(n.code,{children:"combine()"})}),"\n",(0,s.jsxs)(n.p,{children:["THe ",(0,s.jsx)(n.code,{children:"combine"}),' callback can be used as a custom "merge" function for the ce and ee arguments:']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"const data = useEnterprise({ a: 1 }, () => { b: 1 }, { combine(ce, ee) { return { ...ce, ...ee } } });\n\nconsole.log(data); // { a: 1, b: 1 }\n"})}),"\n",(0,s.jsx)(n.h3,{id:"defaultvalue",children:(0,s.jsx)(n.code,{children:"defaultValue"})}),"\n",(0,s.jsxs)(n.p,{children:["By default the hook returns ",(0,s.jsx)(n.code,{children:"null"})," if ",(0,s.jsx)(n.code,{children:"window.strapi.isEE"})," is true and the enterprise data structure is not yet loaded. Customizing\nthis value can help implementing various loading scenarios:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"// display a loading state while an EE component is loading\nconst Component = useEnterprise(() => <p>CE</p>, () => <p>EE</p>, {\n    defaultValue: () => <div>loading ...</div>\n})\n\n// display nothing while an EE component is loading, but don't block the overall rendering\nconst Component = useEnterprise(() => <p>CE</p>, () => <p>EE</p>, {\n    defaultValue: () => null\n})\n\n// display nothing while an EE component is loading\nconst Component = useEnterprise(() => <p>CE</p>, () => <p>EE</p>)\n\nif (!Component) {\n    return;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enabled",children:(0,s.jsx)(n.code,{children:"enabled"})}),"\n",(0,s.jsxs)(n.p,{children:["Similar to react-query this boolean flag allows disabling the EE import, e.g. when more than one condition needs to be applied. If ",(0,s.jsx)(n.code,{children:"enabled"}),"\nis set to false, the first argument (CE_DATA) will be returned."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);